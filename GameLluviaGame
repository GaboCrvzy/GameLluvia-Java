package com.tuempresa.gamelluvia;

import com.badlogic.gdx.ApplicationAdapter;
import com.badlogic.gdx.Gdx;

public class GameLluviaGame extends ApplicationAdapter {
    private PantallaMenu pantallaMenu;
    private PantallaJuego pantallaJuego;
    private boolean jugando = false;

    @Override
    public void create() {
        pantallaMenu = new PantallaMenu(
            this::comenzarJuego,      // al JUGAR
            () -> Gdx.app.exit()      // al SALIR
        );
        pantallaMenu.show();
    }

    private void comenzarJuego() {
        if (pantallaMenu != null) { pantallaMenu.dispose(); pantallaMenu = null; }
        pantallaJuego = new PantallaJuego();
        pantallaJuego.show();
        jugando = true;
    }

    @Override
    public void render() {
        float dt = Gdx.graphics.getDeltaTime();
        if (jugando && pantallaJuego != null) pantallaJuego.render(dt);
        else if (pantallaMenu != null)        pantallaMenu.render(dt);
    }

    @Override
    public void resize(int w, int h) {
        if (pantallaMenu != null) pantallaMenu.resize(w, h);
        if (pantallaJuego != null) pantallaJuego.resize(w, h);
    }

    @Override
    public void dispose() {
        if (pantallaMenu != null) pantallaMenu.dispose();
        if (pantallaJuego != null) pantallaJuego.dispose();
    }
}
