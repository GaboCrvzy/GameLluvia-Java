package com.tuempresa.gamelluvia;


import com.badlogic.gdx.ApplicationAdapter;
import com.badlogic.gdx.Gdx;

public class GameLluviaGame extends ApplicationAdapter 
{
	private PantallaTutorial pantallaTutorial;
    private PantallaJuego pantallaJuego;
    private boolean jugando = false; // indica si ya empez√≥ el juego
	
	@Override
	public void create() {
        pantallaTutorial = new PantallaTutorial(this::comenzarJuego);
        pantallaTutorial.show();
    }
	
	private void comenzarJuego()
	{
        jugando = true;

        pantallaJuego = new PantallaJuego();
        pantallaJuego.show();

        if (pantallaTutorial != null) {
            pantallaTutorial.dispose();
            pantallaTutorial = null;
        }
    }
	
	@Override
	public void render() 
	{
        float dt = Gdx.graphics.getDeltaTime();
        if (jugando && pantallaJuego != null) 
        {
            pantallaJuego.render(dt);
        } else if (pantallaTutorial != null) {
            pantallaTutorial.render(dt);
        }
    }
	
	@Override
	public void resize(int width, int height) 
	{
        if (pantallaTutorial != null) pantallaTutorial.resize(width, height);
        if (pantallaJuego != null) pantallaJuego.resize(width, height);
    }
	
	@Override
	public void dispose()
	{
        if (pantallaTutorial != null) pantallaTutorial.dispose();
        if (pantallaJuego != null) pantallaJuego.dispose();
    }	
}
